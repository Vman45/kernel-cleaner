--- kernel-cleaner/kernel-cleaner	2012-12-01 20:09:11.000000000 +0400
+++ kernel-cleaner-noparallel/kernel-cleaner	2012-12-01 20:12:38.000000000 +0400
@@ -28,18 +28,14 @@
 ############################################################################
 ################ init ######################################################
 init(){
-	cores="$(awk '/cores/ {print $4}' /proc/cpuinfo | uniq)"
-	threads="$(( ${cores} + 1 ))"
-
 	SRC="/usr/src/linux"
-
 	echo "Kernels....";
-	KERNELS="$(parallel -j${threads} "file -F ' '" ::: /boot/* 2>/dev/null | awk '/Linux.*version/ {print $1,$9}')" ; eend 0 2>/dev/null
+	KERNELS="$(file -F ' ' /boot/* 2>/dev/null | awk '/Linux.*version/ {print $1,$9}')" ; eend 0 2>/dev/null
 	echo "Initrams...";
-	INITRAMS="$(parallel -j${threads} "file -F ' '" ::: /boot/* 2>/dev/null | awk '/compressed data/ {print $1,$2}')" ; eend 0 2>/dev/null
+	INITRAMS="$(file -F ' ' /boot/* 2>/dev/null | awk '/compressed data/ {print $1,$2}')" ; eend 0 2>/dev/null
 	echo "Configs....";
-	parallel -j${threads} "file -F ' '" ::: /boot/* 2>/dev/null | grep -q 'ASCII' || \
-	parallel -j${threads} "file -F ' '" ::: /boot/* 2>/dev/null | grep -q 'config build file' && \
+	file -F ' ' /boot/* 2>/dev/null | grep -q 'ASCII' || \
+	file -F ' ' /boot/* 2>/dev/null | grep -q 'config build file' && \
 	CONFIGS="$(grep -H 'Linux/' /boot/* 2>/dev/null | awk '{print $1,$3}')"
 	CONFIGS="${CONFIGS//:#/}" ; eend 0 2>/dev/null
 	echo "Maps.......";
